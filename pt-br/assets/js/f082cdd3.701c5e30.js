"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[317],{231(e,n,a){a.r(n),a.d(n,{assets:()=>L,contentTitle:()=>N,default:()=>F,frontMatter:()=>w,metadata:()=>r,toc:()=>M});const r=JSON.parse('{"id":"banner-v2","title":"Integra\xe7\xe3o Banners","description":"API para consumo dos banners","source":"@site/i18n/pt-br/docusaurus-plugin-content-docs/current/banner-v2.mdx","sourceDirName":".","slug":"/","permalink":"/banner-doc/pt-br/","draft":false,"unlisted":false,"editUrl":"https://github.com/ygor-infotera/banner-doc/tree/main/docs/banner-v2.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"slug":"/"},"sidebar":"tutorialSidebar"}');var t=a(5656),s=a(6610),l=a(6627),i=a(7140),o=a(3526);const d="tabItem_J49e";function c({children:e,hidden:n,className:a}){return(0,t.jsx)("div",{role:"tabpanel",className:(0,o.A)(d,a),hidden:n,children:e})}var u=a(5120),h=a(1391),p=a(559),m=a(3610),x=a(6032),b=a(6641),j=a(3366);function g(e){return i.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function v(e){const{values:n,children:a}=e;return(0,i.useMemo)(()=>{const e=n??function(e){return g(e).map(({props:{value:e,label:n,attributes:a,default:r}})=>({value:e,label:n,attributes:a,default:r}))}(a);return function(e){const n=(0,b.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,a])}function f({value:e,tabValues:n}){return n.some(n=>n.value===e)}function T({queryString:e=!1,groupId:n}){const a=(0,p.W6)(),r=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,x.aZ)(r),(0,i.useCallback)(e=>{if(!r)return;const n=new URLSearchParams(a.location.search);n.set(r,e),a.replace({...a.location,search:n.toString()})},[r,a])]}function E(e){const{defaultValue:n,queryString:a=!1,groupId:r}=e,t=v(e),[s,l]=(0,i.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!f({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const a=n.find(e=>e.default)??n[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:n,tabValues:t})),[o,d]=T({queryString:a,groupId:r}),[c,u]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[a,r]=(0,j.Dv)(n);return[a,(0,i.useCallback)(e=>{n&&r.set(e)},[n,r])]}({groupId:r}),h=(()=>{const e=o??c;return f({value:e,tabValues:t})?e:null})();(0,m.A)(()=>{h&&l(h)},[h]);return{selectedValue:s,selectValue:(0,i.useCallback)(e=>{if(!f({value:e,tabValues:t}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),u(e)},[d,u,t]),tabValues:t}}var D=a(370);const P="tabList_NDYr",O="tabItem_QWUF";function y({className:e,block:n,selectedValue:a,selectValue:r,tabValues:s}){const l=[],{blockElementScrollPositionUntilNextRender:i}=(0,h.a_)(),d=e=>{const n=e.currentTarget,t=l.indexOf(n),o=s[t].value;o!==a&&(i(n),r(o))},c=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const a=l.indexOf(e.currentTarget)+1;n=l[a]??l[0];break}case"ArrowLeft":{const a=l.indexOf(e.currentTarget)-1;n=l[a]??l[l.length-1];break}}n?.focus()};return(0,t.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.A)("tabs",{"tabs--block":n},e),children:s.map(({value:e,label:n,attributes:r})=>(0,t.jsx)("li",{role:"tab",tabIndex:a===e?0:-1,"aria-selected":a===e,ref:e=>{l.push(e)},onKeyDown:c,onClick:d,...r,className:(0,o.A)("tabs__item",O,r?.className,{"tabs__item--active":a===e}),children:n??e},e))})}function A({lazy:e,children:n,selectedValue:a}){const r=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=r.find(e=>e.props.value===a);return e?(0,i.cloneElement)(e,{className:(0,o.A)("margin-top--md",e.props.className)}):null}return(0,t.jsx)("div",{className:"margin-top--md",children:r.map((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==a}))})}function I(e){const n=E(e);return(0,t.jsxs)("div",{className:(0,o.A)(u.G.tabs.container,"tabs-container",P),children:[(0,t.jsx)(y,{...n,...e}),(0,t.jsx)(A,{...n,...e})]})}function V(e){const n=(0,D.A)();return(0,t.jsx)(I,{...e,children:g(e.children)},String(n))}const C=()=>(0,t.jsx)(l.A,{language:"json",children:'{\n  "qtPaginas": 1,\n  "qtRegistro": 5,\n  "itTopVendaList": [\n    {\n      "id": 23320,\n      "dsTags": null,\n      "dtEntrada": null,\n      "dtSaida": null,\n      "nmTopVenda": "Banner Emirados",\n      "dsUrlImg": null,\n      "dsUrlImgDetalhe": "testeimagem.com.br",\n      "stManual": true,\n      "nrParcela": 1,\n      "dsDestaque": "",\n      "dsBanner": "A",\n      "vlTotal": 0.0,\n      "vlTotalTaxa": 0.0,\n      "sgMoeda": "R$",\n      "idPacote": null,\n      "tpOrigem": null,\n      "sgOrigem": null,\n      "nmOrigem": null,\n      "idOrigem": null,\n      "tpDestino": null,\n      "sgDestino": null,\n      "nmDestino": "Dubai, , Emirados \xc1rabes Unidos",\n      "idDestino": 35895,\n      "idHotel": null,\n      "idEmpresa": 1,\n      "dsReservaTipo": "PACOTE DE HOTEL",\n      "dtInclusao": "2022-01-04T15:13:53Z",\n      "dtValidade": "2022-01-21T00:00:00Z",\n      "idUnidade": 3850,\n      "idPontoVenda": null,\n      "WSTopVenda": null\n    }\n  ]\n}'}),B=()=>(0,t.jsx)(l.A,{language:"json",children:'{\n  "id": 23320,\n  "dsTags": null,\n  "dtEntrada": null,\n  "dtSaida": null,\n  "nmTopVenda": "Banner Teste Dubai",\n  "dsUrlImg": null,\n  "dsUrlImgDetalhe": "teste.com.br/212.png",\n  "stManual": true,\n  "nrParcela": 1,\n  "dsDestaque": "",\n  "dsBanner": "A",\n  "vlTotal": 0.0,\n  "vlTotalTaxa": 0.0,\n  "sgMoeda": "R$",\n  "idPacote": null,\n  "tpOrigem": null,\n  "sgOrigem": null,\n  "nmOrigem": null,\n  "idOrigem": null,\n  "tpDestino": null,\n  "sgDestino": null,\n  "nmDestino": "Dubai, , Emirados \xc1rabes Unidos",\n  "idDestino": 35895,\n  "idHotel": null,\n  "idEmpresa": 1,\n  "dsReservaTipo": "PACOTE DE HOTEL",\n  "dtInclusao": "2022-01-04T15:13:53Z",\n  "dtValidade": "2022-01-21T00:00:00Z",\n  "idUnidade": 3850,\n  "idPontoVenda": null,\n  "WSTopVenda": "{\\"topVendaId\\":23320,\\"dsUrlBannerDetalhe\\":\\"http://media.infotravel.com.br/image/upload/c_scale,h_200/1D3A0CCFD872B23D641EA23DFD16E7AF.jpg\\",\\"imagenBannerList\\":[],\\"sgMoeda\\":\\"R$\\",\\"vlTotal\\":0.0,\\"reservaPacote\\":{\\"keyPacoteParametro\\":\\"}{}{}{}{}{}{}{}{#|#F41FC8857F1BFF94DEFB4043BF159C6E\\",\\"destino\\":{\\"idLocal\\":35895,\\"nmLocal\\":\\"Dubai, , Emirados \xc1rabes Unidos\\",\\"nmAmigavel\\":\\"\\",\\"stPoligono\\":false},\\"vlComissaoAjuste\\":0.0,\\"stSelecionado\\":false},\\"dsBanner\\":\\"A\\",\\"dsDestaque\\":\\"\\",\\"nmBanner\\":\\"Banner Principal - Mundial Emirados\\",\\"dsReservaTipo\\":\\"PACOTE DE HOTEL\\",\\"sgReservaTipo\\":\\"PACHOT\\",\\"dsTag\\":\\"\\",\\"stManual\\":true,\\"qtParcela\\":1,\\"cdChave\\":\\"DC0B49F16DCCE8D45D85B01CD65FDBC7\\"}"\n}'}),S=()=>(0,t.jsx)(l.A,{language:"javascript",children:"let topVenda = rs[0];\n// DOMINIO DO B2C \xe9 o link em que o B2C roda\n// MD5 fun\xe7ao para criptogragar para MD5\nlet link = `DOMINIO B2C /checkout?idTopVenda=${topVenda.id}&chave=${md5(topVenda.id).toUpperCase()}`;"}),R=()=>(0,t.jsx)(l.A,{language:"javascript",children:"let topVenda = rs[0];\n// QUANTIDADE DE PAX.\n// por padr\xe3o no banner sao sempre 2 pax. Mas \xe9 possivel passar outras configura\xe7\xf5es\nlet qtPax = 2;\n// exemplo de link\n// https://linkb2c.com.br/b2c/banner/{idBanner}/{numeroDePax}\nlet link = `DOMINIO B2C /banner/${topVenda.id}/${qtPax}`;"}),q=()=>(0,t.jsx)(l.A,{language:"html",children:'// URL DO INFOTRAVEl - DOMINIO DO INFOTRAVEL ex:\n// https://demo.infotravel.com.br/infotravel/public/login.xhtml\n<form\n  action="[URL DO INFOTRAVEL]"\n  id="frmTopVenda"\n  method="POST"\n  name="frmTopVenda"\n>\n  <input id="topVenda" name="topVendaId" type="hidden" value="[ID DO BANNER]" />\n  <button class="btn btn-outline-secondary btn-comprar" type="submit">\n    COMPRE AGORA\n  </button>\n</form>'}),U=()=>(0,t.jsx)(l.A,{language:"javascript",children:'window.open("[URL DO INFOTRAVEL]/public/login.xhtml?topVendaId=54");'}),k=()=>(0,t.jsxs)(V,{children:[(0,t.jsx)(c,{value:"js",label:"JavaScript",children:(0,t.jsx)(l.A,{language:"javascript",children:'await fetch(\n  "https://motorv2.infotravel.com.br/integra/api/topVenda?clientSg=TESTESG",\n  {\n    method: "get",\n    headers: {\n      Accept: "application/json",\n    },\n  },\n);'})}),(0,t.jsx)(c,{value:"php",label:"PHP",children:(0,t.jsx)(l.A,{language:"php",children:"$curl = curl_init();\ncurl_setopt_array($curl, array(\n    CURLOPT_URL => 'http://motorv2.infotravel.com.br/integra/api/topVenda?clientSg=TESTESG',\n    CURLOPT_RETURNTRANSFER => true,\n    CURLOPT_ENCODING => '',\n    CURLOPT_FOLLOWLOCATION => true,\n    CURLOPT_CUSTOMREQUEST => 'GET',\n));\n$response = curl_exec($curl);\ncurl_close($curl);\necho $response;"})}),(0,t.jsx)(c,{value:"java",label:"Java",children:(0,t.jsx)(l.A,{language:"java",children:'OkHttpClient client = new OkHttpClient().newBuilder()\n  .build();\nRequest request = new Request.Builder()\n  .url("http://motorv2.infotravel.com.br/integra/api/topVenda?clientSg=TESTESG")\n  .method("GET", null)\n  .build();\nResponse response = client.newCall(request).execute();'})}),(0,t.jsx)(c,{value:"python",label:"Python",children:(0,t.jsx)(l.A,{language:"python",children:'import requests\n\nurl = "http://motorv2.infotravel.com.br/integra/api/topVenda?clientSg=TESTESG"\n\npayload={}\nheaders = {}\n\nresponse = requests.request("GET", url, headers=headers, data=payload)\n\nprint(response.text)'})})]}),w={sidebar_position:1,slug:"/"},N="Integra\xe7\xe3o Banners",L={},M=[{value:"M\xe9todos",id:"m\xe9todos",level:2},{value:"Listar",id:"listar",level:3},{value:"Query Parameters",id:"query-parameters",level:4},{value:"Response Example",id:"response-example",level:4},{value:"Consultar Banner",id:"consultar-banner",level:3},{value:"Path Parameters",id:"path-parameters",level:4},{value:"Query Parameters",id:"query-parameters-1",level:4},{value:"Response Example",id:"response-example-1",level:4},{value:"Montando Links para B2C / B2B",id:"montando-links-para-b2c--b2b",level:2},{value:"B2C",id:"b2c",level:3},{value:"B2B",id:"b2b",level:3},{value:"Exemplos de C\xf3digo",id:"exemplos-de-c\xf3digo",level:2}];function _(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"integra\xe7\xe3o-banners",children:"Integra\xe7\xe3o Banners"})}),"\n",(0,t.jsx)(n.p,{children:"API para consumo dos banners"}),"\n",(0,t.jsx)(n.h2,{id:"m\xe9todos",children:"M\xe9todos"}),"\n",(0,t.jsx)(n.h3,{id:"listar",children:"Listar"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"GET https://motorv2.infotravel.com.br/integra/api/topVenda"})}),"\n",(0,t.jsx)(n.p,{children:"M\xe9todo para listar os banners dispon\xedveis. Pare otimizar a pesquisa o m\xe9todo de listar devolve somente os dados b\xe1sicos do banner. A API vai devolver os resultados paginados, sendo 20 itens por p\xe1gina."}),"\n",(0,t.jsx)(n.h4,{id:"query-parameters",children:"Query Parameters"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Parameter"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"nrPagina"})}),(0,t.jsx)(n.td,{children:"integer"}),(0,t.jsx)(n.td,{children:"Numero da p\xe1gina"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"tags"})}),(0,t.jsx)(n.td,{children:"array"}),(0,t.jsx)(n.td,{children:"Uma lista de TAGS"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"idUnidade"})}),(0,t.jsx)(n.td,{children:"integer"}),(0,t.jsx)(n.td,{children:"ID da unidade , usado para filtrar os resultados"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"idPontoVenda"})}),(0,t.jsx)(n.td,{children:"Integer"}),(0,t.jsx)(n.td,{children:"ID do ponto de venda"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"stManual"})}),(0,t.jsx)(n.td,{children:"Boolean"}),(0,t.jsx)(n.td,{children:"Usado para filtros"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"clientSg*"})}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsx)(n.td,{children:"Usado para autentica\xe7\xe3o. (Pedir para infotera)"})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"response-example",children:"Response Example"}),"\n",(0,t.jsx)(C,{}),"\n",(0,t.jsx)(n.h3,{id:"consultar-banner",children:"Consultar Banner"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"GET https://motorv2.infotravel.com.br/integra/api/topVenda/{id}"})}),"\n",(0,t.jsx)(n.h4,{id:"path-parameters",children:"Path Parameters"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Parameter"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"id*"})}),(0,t.jsx)(n.td,{children:"Integer"}),(0,t.jsx)(n.td,{children:"ID do banner"})]})})]}),"\n",(0,t.jsx)(n.h4,{id:"query-parameters-1",children:"Query Parameters"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Parameter"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"clientSg*"})}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsx)(n.td,{children:"Usado para autentica\xe7\xe3o. (Pedir para infotera)"})]})})]}),"\n",(0,t.jsx)(n.h4,{id:"response-example-1",children:"Response Example"}),"\n",(0,t.jsx)(B,{}),"\n",(0,t.jsx)(n.h2,{id:"montando-links-para-b2c--b2b",children:"Montando Links para B2C / B2B"}),"\n",(0,t.jsx)(n.h3,{id:"b2c",children:"B2C"}),"\n",(0,t.jsx)(n.p,{children:"Para o B2C existem duas formas de utilizar os dados dos banners para montar pesquisas:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Montando link direto para a tela de pagamento:"})}),"\n"]}),"\n",(0,t.jsx)(S,{}),"\n",(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Montando link de pesquisa para a tela de disponibilidade:"})}),"\n"]}),"\n",(0,t.jsx)(R,{}),"\n",(0,t.jsx)(n.h3,{id:"b2b",children:"B2B"}),"\n",(0,t.jsx)(n.p,{children:"Para pesquisar no infotravel fazer um POST/REQUEST para o link do infotravel."}),"\n",(0,t.jsx)(q,{}),"\n",(0,t.jsx)(n.p,{children:"Ou"}),"\n",(0,t.jsx)(U,{}),"\n",(0,t.jsx)(n.h2,{id:"exemplos-de-c\xf3digo",children:"Exemplos de C\xf3digo"}),"\n",(0,t.jsx)(k,{})]})}function F(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(_,{...e})}):_(e)}}}]);