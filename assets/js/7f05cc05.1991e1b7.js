"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[810],{378(e,n,a){a.r(n),a.d(n,{assets:()=>i,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"banner-v2","title":"Integra\xe7\xe3o Banners","description":"API para consumo dos banners","source":"@site/docs/banner-v2.mdx","sourceDirName":".","slug":"/","permalink":"/banner-doc/","draft":false,"unlisted":false,"editUrl":"https://github.com/ygor-infotera/banner-doc/tree/main/docs/banner-v2.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"slug":"/"},"sidebar":"tutorialSidebar"}');var s=a(5656),d=a(6610);const t={sidebar_position:1,slug:"/"},l="Integra\xe7\xe3o Banners",i={},o=[{value:"M\xe9todos",id:"m\xe9todos",level:2},{value:"Listar",id:"listar",level:3},{value:"Query Parameters",id:"query-parameters",level:4},{value:"Response Example",id:"response-example",level:4},{value:"Consultar Banner",id:"consultar-banner",level:3},{value:"Path Parameters",id:"path-parameters",level:4},{value:"Query Parameters",id:"query-parameters-1",level:4},{value:"Response Example",id:"response-example-1",level:4},{value:"Montando Links para B2C / B2B",id:"montando-links-para-b2c--b2b",level:2},{value:"B2C",id:"b2c",level:3},{value:"B2B",id:"b2b",level:3},{value:"Exemplos de C\xf3digo",id:"exemplos-de-c\xf3digo",level:2},{value:"JavaScript",id:"javascript",level:3},{value:"PHP",id:"php",level:3},{value:"Java",id:"java",level:3},{value:"Python",id:"python",level:3}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,d.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"integra\xe7\xe3o-banners",children:"Integra\xe7\xe3o Banners"})}),"\n",(0,s.jsx)(n.p,{children:"API para consumo dos banners"}),"\n",(0,s.jsx)(n.h2,{id:"m\xe9todos",children:"M\xe9todos"}),"\n",(0,s.jsx)(n.h3,{id:"listar",children:"Listar"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"GET https://motorv2.infotravel.com.br/integra/api/topVenda"})}),"\n",(0,s.jsx)(n.p,{children:"M\xe9todo para listar os banners dispon\xedveis. Pare otimizar a pesquisa o m\xe9todo de listar devolve somente os dados b\xe1sicos do banner. A API vai devolver os resultados paginados, sendo 20 itens por p\xe1gina."}),"\n",(0,s.jsx)(n.h4,{id:"query-parameters",children:"Query Parameters"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Parameter"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"nrPagina"})}),(0,s.jsx)(n.td,{children:"integer"}),(0,s.jsx)(n.td,{children:"Numero da p\xe1gina"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"tags"})}),(0,s.jsx)(n.td,{children:"array"}),(0,s.jsx)(n.td,{children:"Uma lista de TAGS"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"idUnidade"})}),(0,s.jsx)(n.td,{children:"integer"}),(0,s.jsx)(n.td,{children:"ID da unidade , usado para filtrar os resultados"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"idPontoVenda"})}),(0,s.jsx)(n.td,{children:"Integer"}),(0,s.jsx)(n.td,{children:"ID do ponto de venda"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"stManual"})}),(0,s.jsx)(n.td,{children:"Boolean"}),(0,s.jsx)(n.td,{children:"Usado para filtros"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"clientSg*"})}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"Usado para autentica\xe7\xe3o. (Pedir para infotera)"})]})]})]}),"\n",(0,s.jsx)(n.h4,{id:"response-example",children:"Response Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "qtPaginas": 1,\n  "qtRegistro": 5,\n  "itTopVendaList": [\n    {\n      "id": 23320,\n      "dsTags": null,\n      "dtEntrada": null,\n      "dtSaida": null,\n      "nmTopVenda": "Banner Emirados",\n      "dsUrlImg": null,\n      "dsUrlImgDetalhe": "testeimagem.com.br",\n      "stManual": true,\n      "nrParcela": 1,\n      "dsDestaque": "",\n      "dsBanner": "A",\n      "vlTotal": 0.0,\n      "vlTotalTaxa": 0.0,\n      "sgMoeda": "R$",\n      "idPacote": null,\n      "tpOrigem": null,\n      "sgOrigem": null,\n      "nmOrigem": null,\n      "idOrigem": null,\n      "tpDestino": null,\n      "sgDestino": null,\n      "nmDestino": "Dubai, , Emirados \xc1rabes Unidos",\n      "idDestino": 35895,\n      "idHotel": null,\n      "idEmpresa": 1,\n      "dsReservaTipo": "PACOTE DE HOTEL",\n      "dtInclusao": "2022-01-04T15:13:53Z",\n      "dtValidade": "2022-01-21T00:00:00Z",\n      "idUnidade": 3850,\n      "idPontoVenda": null,\n      "WSTopVenda": null\n    }\n  ]\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"consultar-banner",children:"Consultar Banner"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"GET https://motorv2.infotravel.com.br/integra/api/topVenda/{id}"})}),"\n",(0,s.jsx)(n.h4,{id:"path-parameters",children:"Path Parameters"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Parameter"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"id*"})}),(0,s.jsx)(n.td,{children:"Integer"}),(0,s.jsx)(n.td,{children:"ID do banner"})]})})]}),"\n",(0,s.jsx)(n.h4,{id:"query-parameters-1",children:"Query Parameters"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Parameter"}),(0,s.jsx)(n.th,{children:"Type"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"clientSg*"})}),(0,s.jsx)(n.td,{children:"String"}),(0,s.jsx)(n.td,{children:"Usado para autentica\xe7\xe3o. (Pedir para infotera)"})]})})]}),"\n",(0,s.jsx)(n.h4,{id:"response-example-1",children:"Response Example"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "id": 23320,\n  "dsTags": null,\n  "dtEntrada": null,\n  "dtSaida": null,\n  "nmTopVenda": "Banner Teste Dubai",\n  "dsUrlImg": null,\n  "dsUrlImgDetalhe": "teste.com.br/212.png",\n  "stManual": true,\n  "nrParcela": 1,\n  "dsDestaque": "",\n  "dsBanner": "A",\n  "vlTotal": 0.0,\n  "vlTotalTaxa": 0.0,\n  "sgMoeda": "R$",\n  "idPacote": null,\n  "tpOrigem": null,\n  "sgOrigem": null,\n  "nmOrigem": null,\n  "idOrigem": null,\n  "tpDestino": null,\n  "sgDestino": null,\n  "nmDestino": "Dubai, , Emirados \xc1rabes Unidos",\n  "idDestino": 35895,\n  "idHotel": null,\n  "idEmpresa": 1,\n  "dsReservaTipo": "PACOTE DE HOTEL",\n  "dtInclusao": "2022-01-04T15:13:53Z",\n  "dtValidade": "2022-01-21T00:00:00Z",\n  "idUnidade": 3850,\n  "idPontoVenda": null,\n  "WSTopVenda": "{\\"topVendaId\\":23320,\\"dsUrlBannerDetalhe\\":\\"http://media.infotravel.com.br/image/upload/c_scale,h_200/1D3A0CCFD872B23D641EA23DFD16E7AF.jpg\\",\\"imagenBannerList\\":[],\\"sgMoeda\\":\\"R$\\",\\"vlTotal\\":0.0,\\"reservaPacote\\":{\\"keyPacoteParametro\\":\\"}{}{}{}{}{}{}{}{#|#F41FC8857F1BFF94DEFB4043BF159C6E\\",\\"destino\\":{\\"idLocal\\":35895,\\"nmLocal\\":\\"Dubai, , Emirados \xc1rabes Unidos\\",\\"nmAmigavel\\":\\"\\",\\"stPoligono\\":false},\\"vlComissaoAjuste\\":0.0,\\"stSelecionado\\":false},\\"dsBanner\\":\\"A\\",\\"dsDestaque\\":\\"\\",\\"nmBanner\\":\\"Banner Principal - Mundial Emirados\\",\\"dsReservaTipo\\":\\"PACOTE DE HOTEL\\",\\"sgReservaTipo\\":\\"PACHOT\\",\\"dsTag\\":\\"\\",\\"stManual\\":true,\\"qtParcela\\":1,\\"cdChave\\":\\"DC0B49F16DCCE8D45D85B01CD65FDBC7\\"}"\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"montando-links-para-b2c--b2b",children:"Montando Links para B2C / B2B"}),"\n",(0,s.jsx)(n.h3,{id:"b2c",children:"B2C"}),"\n",(0,s.jsx)(n.p,{children:"Para o B2C existem duas formas de utilizar os dados dos banners para montar pesquisas:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Montando link direto para a tela de pagamento:"})}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"let topVenda = rs[0];\n// DOMINIO DO B2C \xe9 o link em que o B2C roda\n// MD5 fun\xe7ao para criptogragar para MD5\nlet link = `DOMINIO B2C /checkout?idTopVenda=${topVenda.id}&chave=${md5(topVenda.id).toUpperCase()}`;\n"})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Montando link de pesquisa para a tela de disponibilidade:"})}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"let topVenda = rs[0];\n// QUANTIDADE DE PAX.\n// por padr\xe3o no banner sao sempre 2 pax. Mas \xe9 possivel passar outras configura\xe7\xf5es\nlet qtPax = 2;\n// exemplo de link\n// https://linkb2c.com.br/b2c/banner/{idBanner}/{numeroDePax}\nlet link = `DOMINIO B2C /banner/${topVenda.id}/${qtPax}`;\n"})}),"\n",(0,s.jsx)(n.h3,{id:"b2b",children:"B2B"}),"\n",(0,s.jsx)(n.p,{children:"Para pesquisar no infotravel fazer um POST/REQUEST para o link do infotravel."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'// URL DO INFOTRAVEl - DOMINIO DO INFOTRAVEL ex:\nhttps://demo.infotravel.com.br/infotravel/public/login.xhtml\n<form\n  action="[URL DO INFOTRAVEL]"\n  id="frmTopVenda"\n  method="POST"\n  name="frmTopVenda"\n>\n  <input id="topVenda" name="topVendaId" type="hidden" value="[ID DO BANNER]" />\n  <button class="btn btn-outline-secondary btn-comprar" type="submit">\n    COMPRE AGORA\n  </button>\n</form>\n'})}),"\n",(0,s.jsx)(n.p,{children:"Ou"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:'window.open("[URL DO INFOTRAVEL]/public/login.xhtml?topVendaId=54");\n'})}),"\n",(0,s.jsx)(n.h2,{id:"exemplos-de-c\xf3digo",children:"Exemplos de C\xf3digo"}),"\n",(0,s.jsx)(n.h3,{id:"javascript",children:"JavaScript"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:'await fetch(\n  "https://motorv2.infotravel.com.br/integra/api/topVenda?clientSg=TESTESG",\n  {\n    method: "get",\n    headers: {\n      Accept: "application/json",\n    },\n  },\n);\n'})}),"\n",(0,s.jsx)(n.h3,{id:"php",children:"PHP"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-php",children:"$curl = curl_init();\ncurl_setopt_array($curl, array(\n    CURLOPT_URL => 'http://motorv2.infotravel.com.br/integra/api/topVenda?clientSg=TESTESG',\n    CURLOPT_RETURNTRANSFER => true,\n    CURLOPT_ENCODING => '',\n    CURLOPT_FOLLOWLOCATION => true,\n    CURLOPT_CUSTOMREQUEST => 'GET',\n));\n$response = curl_exec($curl);\ncurl_close($curl);\necho $response;\n"})}),"\n",(0,s.jsx)(n.h3,{id:"java",children:"Java"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'OkHttpClient client = new OkHttpClient().newBuilder()\n  .build();\nRequest request = new Request.Builder()\n  .url("http://motorv2.infotravel.com.br/integra/api/topVenda?clientSg=TESTESG")\n  .method("GET", null)\n  .build();\nResponse response = client.newCall(request).execute();\n'})}),"\n",(0,s.jsx)(n.h3,{id:"python",children:"Python"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'import requests\n\nurl = "http://motorv2.infotravel.com.br/integra/api/topVenda?clientSg=TESTESG"\n\npayload={}\nheaders = {}\n\nresponse = requests.request("GET", url, headers=headers, data=payload)\n\nprint(response.text)\n'})})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},6610(e,n,a){a.d(n,{R:()=>t,x:()=>l});var r=a(7140);const s={},d=r.createContext(s);function t(e){const n=r.useContext(d);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),r.createElement(d.Provider,{value:n},e.children)}}}]);